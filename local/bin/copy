#!/bin/sh
session="$(loginctl show-session $(loginctl | grep $(whoami) | awk '{print $1}') -p Type | cut -d= -f2)"
copy_command="xclip"
copy_args="-selection clipboard"

if [[ "$session" == "wayland" ]]; then
  copy_command="wl-copy"
  copy_args=""
fi

if command -v "$copy_command" >/dev/null; then
  $copy_command $copy_args
else
  echo "Please install ${copy_command}" >/dev/stderr
  exit 1
fi
